[{"/home/tourist/Instagram-clone/src/index.js":"1","/home/tourist/Instagram-clone/src/App.js":"2","/home/tourist/Instagram-clone/src/reportWebVitals.js":"3","/home/tourist/Instagram-clone/src/Post.js":"4","/home/tourist/Instagram-clone/src/firebase.js":"5","/home/tourist/Instagram-clone/src/ImageUpload.js":"6"},{"size":500,"mtime":1630209950252,"results":"7","hashOfConfig":"8"},{"size":6042,"mtime":1631172170834,"results":"9","hashOfConfig":"8"},{"size":362,"mtime":1630209950252,"results":"10","hashOfConfig":"8"},{"size":2666,"mtime":1631171673907,"results":"11","hashOfConfig":"8"},{"size":660,"mtime":1630338356853,"results":"12","hashOfConfig":"8"},{"size":2213,"mtime":1630609189316,"results":"13","hashOfConfig":"8"},{"filePath":"14","messages":"15","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"16"},"198j44l",{"filePath":"17","messages":"18","errorCount":0,"fatalErrorCount":0,"warningCount":6,"fixableErrorCount":0,"fixableWarningCount":0,"source":"19"},{"filePath":"20","messages":"21","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"16"},{"filePath":"22","messages":"23","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"24","messages":"25","errorCount":0,"fatalErrorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"26","usedDeprecatedRules":"16"},{"filePath":"27","messages":"28","errorCount":0,"fatalErrorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"29","usedDeprecatedRules":"16"},"/home/tourist/Instagram-clone/src/index.js",[],["30","31"],"/home/tourist/Instagram-clone/src/App.js",["32","33","34","35","36","37"],"import React, { useState, useEffect } from 'react'; \nimport './App.css';\nimport Post from './Post';\nimport { db, auth }  from './firebase';\nimport { makeStyles } from '@material-ui/core/styles';\nimport  Modal  from '@material-ui/core/Modal';\nimport { Button, Input } from '@material-ui/core';\nimport ImageUpload from './ImageUpload';\nimport InstagramEmbed from 'react-instagram-embed';\n\n\n\nfunction getModalStyle() {\n  const top = 50;\n  const left = 50;\n\n  return {\n    top: '${top}%',\n    left: '${left}%',\n    transform: 'translate(-${top}%, -${left}%)',\n  };\n}\n\nconst useStyles = makeStyles((theme) => ({\n  paper: {\n    position: 'absolute',\n    width: 400,\n    backgroundColour: theme.palette.background.paper,\n    border: '2px solid #000',\n    boxShadow: theme.shadows[5],\n    padding: theme.spacing(2, 4, 3),\n  },\n}))\n\nfunction App() {\n  const classes = useStyles();\n  const[ modalStyle] = useState(getModalStyle);\n  const [posts, setPosts] = useState([]);  \n  const [open, setOpen] = useState(false);\n  const [openSignIn, setOpenSignIn] = useState(false);\n  const [username, setUsername] = useState();\n  const [password, setPassword] = useState();\n  const [email, setEmail] = useState();\n  const [user, setUser] = useState(null);\n\n  useEffect(() => {\n    const unsubscribe = auth.onAuthStateChanged((authUser) => {\n      if (authUser) {\n        // user logged in \n        setUser(authUser);\n        if  (authUser.displayName) {\n          //dont update username\n        } else {\n          // creat someone\n          return authUser.updateProfile({\n            displayName: username,\n          });\n        }\n      } else {\n        // user ha logged out\n        setUser(null);\n      }\n  })\n  return () => {\n    unsubscribe();\n  }\n}, [user, username]);\n  useEffect(() => {\n    db.collection('posts').orderBy('timestamp', 'desc').onSnapshot(snapshot => {\n    setPosts(snapshot.docs.map(doc => ({\n      id: doc.id,\n      post: doc.data()\n    })));\n   })\n  }, []);\n\n  const signUp = (event) => {\n    event.preventDefault();\n\n    auth.createUserWithEmailAndPassword(email, password)\n    .then((authUser) => {\n      return authUser.user.updateProfile({\n        displayName: username\n      })\n    })\n    .catch((error) => alert(error.message));\n    \n    setOpen(false);\n\n  }\n\n  const signIn = (event) => {\n    event.preventDefault();\n\n    auth\n    .signInWithEmailAndPassword(email, password)\n    .catch((error) => alert(error.message))\n\n\n    setOpenSignIn(false);\n      }\n\n  return (\n    <div className=\"app\">\n      \n      <Modal\n      open={openSignIn}\n      onClose={() => setOpenSignIn(false)}\n      >\n        <div style={modalStyle} className={classes.paper}>\n\n        <form className=\"app__signup\">\n            \n          <center>\n              <img\n                className=\"app__headerImage\"\n                src=\"https://www.instagram.com/static/images/web/mobile_nav_type_logo.png/735145cfe0a4.png\"\n                alt=\"\"\n            />\n            </center>\n            \n        \n          <Input\n          placeholder=\"email\"\n          type=\"text\"\n          value={email}\n          onChange={(e) => setEmail(e.target.value)}\n          />\n          <Input\n          placeholder=\"password\"\n          type=\"password\"\n          value={password}\n          onChange={(e) => setPassword(e.target.value)}\n          />\n          <Button type=\"submit\" onClick={signIn}>Sign In</Button>\n          </form>\n\n\n        </div>\n      </Modal>\n\n\n\n      <Modal\n      open={open}\n      onClose={() => setOpen(false)}\n      >\n        <div style={modalStyle} className={classes.paper}>\n\n        <form className=\"app__signup\">\n            \n          <center>\n              <img\n                className=\"app__headerImage\"\n                src=\"https://www.instagram.com/static/images/web/mobile_nav_type_logo.png/735145cfe0a4.png\"\n                alt=\"\"\n            />\n            </center>\n            \n            <Input\n          placeholder=\"username\"\n          type=\"text\"\n          value={username}\n          onChange={(e) => setUsername(e.target.value)}\n          />\n          <Input\n          placeholder=\"email\"\n          type=\"text\"\n          value={email}\n          onChange={(e) => setEmail(e.target.value)}\n          />\n          <Input\n          placeholder=\"password\"\n          type=\"password\"\n          value={password}\n          onChange={(e) => setPassword(e.target.value)}\n          />\n          <Button type=\"submit\" onClick={signUp}>Sign Up</Button>\n\n\n        </form>\n\n        </div>\n      </Modal>\n      <div className=\"app__header\">\n        <img\n           className=\"app__headerImage\"\n           src=\"https://www.instagram.com/static/images/web/mobile_nav_type_logo.png/735145cfe0a4.png\"\n        />\n        {user ? (\n          <Button onClick={() => auth.signOut()}>Logout</Button>\n          ): (\n            <div className=\"app__loginContainer\">\n            <Button onClick={() => setOpenSignIn(true)}>Sign In</Button>\n            <Button onClick={() => setOpen(true)}>Sign Up</Button>\n            </div>\n\n          )}\n      </div>\n      <div className=\"app__posts\">\n        <div className=\"app__postsLeft\">\n        {\n        posts.map(({id , post}) => (\n          // console.log()\n          <Post key={id} postId={id} user={user} username={post.username} caption={post.caption} imageUrl={post.imageUrl}/>\n        ))\n      }\n\n        </div>\n        <div className=\"app__postsRight\">\n        <InstagramEmbed\n          url='https://www.instagram.com/p/CTW9O3loqk2/?utm_medium=copy_link'\n          clientAccessToken='123'\n          maxWidth={320}\n          hideCaption={false}\n          containerTagName='div'\n          protocol=''\n          injectScript\n          onLoading={() => {}}\n          onSuccess={() => {}}\n          onAfterRender={() => {}}\n          onFailure={() => {}}\n        />\n\n        </div>\n      </div>\n     \n\n\n      <h1>Santhosh</h1>\n     \n      {user ? (\n        <ImageUpload username={user.displayName} />\n      ):(\n        <h3>Sorry need to login to upload</h3>\n      )}\n\n    </div>\n  );\n}\n\nexport default App;\n","/home/tourist/Instagram-clone/src/reportWebVitals.js",[],"/home/tourist/Instagram-clone/src/Post.js",[],"/home/tourist/Instagram-clone/src/firebase.js",["38"],"import firebase from \"firebase\";\n\nconst firebaseApp = firebase.initializeApp({\n    apiKey: \"AIzaSyBOCiDXhVVWbxqmj9kJVWD4Y3NMpIizB9M\",\n    authDomain: \"instagram-clone-b499c.firebaseapp.com\",\n    databaseURL: \"https://instagram-clone-b499c-default-rtdb.firebaseio.com\",\n    projectId: \"instagram-clone-b499c\",\n    storageBucket: \"instagram-clone-b499c.appspot.com\",\n    messagingSenderId: \"542167389862\",\n    appId: \"1:542167389862:web:9b0f51849b33da06934667\",\n    measurementId: \"G-TJ8QK55E8Z\"\n\n});\n\n\nconst db = firebase.firestore();\nconst auth = firebase.auth();\nconst storage = firebase.storage();\n\n\nexport { db, auth, storage };\n\n\n//export default debugger;","/home/tourist/Instagram-clone/src/ImageUpload.js",["39"],"import React, { useState } from 'react';\nimport { Button, useScrollTrigger } from '@material-ui/core';\nimport firebase from \"firebase\";\nimport { storage, db } from \"./firebase\";\nimport './ImageUpload.css';\n\n\nfunction ImageUpload({username}) {\n    const [image, setImage] = useState(null);\n    const [progress, setProgress] = useState(0);\n    const [caption, setCaption] = useState('');\n\n    const handleChange = (e) => {\n        if (e.target.files[0]) {\n            setImage(e.target.files[0]);\n        }\n    };\n\n    const handleUpload = () => {\n        const uploadTask = storage.ref(`images/${image.name}`).put(image);\n\n        uploadTask.on(\n            \"state_changed\",\n            (snapshot) =>{\n                const progress = Math.round(\n                    (snapshot.bytesTransferred / snapshot.totalBytes) * 100\n                );\n                setProgress(progress);\n            },\n            (error) => {\n                //error function\n                console.log(error);\n                alert(error.message);\n            },\n            () => {\n                //complete function\n                storage\n                .ref(\"images\")\n                .child(image.name)\n                .getDownloadURL()\n                .then(url => {\n\n                     //post images to DB\n                     db.collection(\"posts\").add({\n                         timestamp: firebase.firestore.FieldValue.serverTimestamp(),\n                         caption: caption,\n                         imageUrl: url,\n                         username: username\n                     });\n                     setProgress(0);\n                     setCaption(\"\");\n                     setImage(null);\n                });\n            }\n    );\n};\n\n\n    \n    return (\n        <div className=\"imageupload\">\n            <progress className=\"imageupload__progress\" value={progress} max=\"100\" />\n            <input type=\"text\" placeholder='Enter a Caption....' onChange={event => setCaption(event.target.value)} value={caption} />\n            <input type=\"file\" onChange={handleChange} />\n            <Button onClick={handleUpload}>\n                Upload\n            </Button>\n        </div>\n    )\n}\n\nexport default ImageUpload",{"ruleId":"40","replacedBy":"41"},{"ruleId":"42","replacedBy":"43"},{"ruleId":"44","severity":1,"message":"45","line":14,"column":9,"nodeType":"46","messageId":"47","endLine":14,"endColumn":12},{"ruleId":"44","severity":1,"message":"48","line":15,"column":9,"nodeType":"46","messageId":"47","endLine":15,"endColumn":13},{"ruleId":"49","severity":1,"message":"50","line":18,"column":10,"nodeType":"51","messageId":"52","endLine":18,"endColumn":19},{"ruleId":"49","severity":1,"message":"50","line":19,"column":11,"nodeType":"51","messageId":"52","endLine":19,"endColumn":21},{"ruleId":"49","severity":1,"message":"50","line":20,"column":16,"nodeType":"51","messageId":"52","endLine":20,"endColumn":48},{"ruleId":"53","severity":1,"message":"54","line":186,"column":9,"nodeType":"55","endLine":189,"endColumn":11},{"ruleId":"44","severity":1,"message":"56","line":3,"column":7,"nodeType":"46","messageId":"47","endLine":3,"endColumn":18},{"ruleId":"44","severity":1,"message":"57","line":2,"column":18,"nodeType":"46","messageId":"47","endLine":2,"endColumn":34},"no-native-reassign",["58"],"no-negated-in-lhs",["59"],"no-unused-vars","'top' is assigned a value but never used.","Identifier","unusedVar","'left' is assigned a value but never used.","no-template-curly-in-string","Unexpected template string expression.","Literal","unexpectedTemplateExpression","jsx-a11y/alt-text","img elements must have an alt prop, either with meaningful text, or an empty string for decorative images.","JSXOpeningElement","'firebaseApp' is assigned a value but never used.","'useScrollTrigger' is defined but never used.","no-global-assign","no-unsafe-negation"]